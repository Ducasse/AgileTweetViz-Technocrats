Object subclass: #Analysis	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'SentimentAnalyzer'!!Analysis methodsFor: 'as yet unclassified' stamp: 'TanmayPatil 11/13/2015 16:42'!initialize	super initialize! !!Analysis methodsFor: 'as yet unclassified' stamp: 'MeenalKulkarni 11/15/2015 18:33'!initSentimentData	| dataSet d1 d2 d3  dt1 dt2 dt3   |	dataSet := OrderedCollection new.	d1 := OrderedCollection new.	dt1 := OrderedCollection new.	d1 add: 'positive'.	d1 add: 0.	d1 add: dt1 .	dataSet add: d1.	d2 := OrderedCollection new.	dt2 := OrderedCollection new.	d2 add: 'negative'.	d2 add: 0.	d2 add: dt2.	dataSet add: d2.	d3 := OrderedCollection new.	dt3 := OrderedCollection new.	d3 add: 'neutral'.	d3 add: 0.	d3 add: dt3.	dataSet add: d3.	^ dataSet! !!Analysis methodsFor: 'as yet unclassified' stamp: 'MeenalKulkarni 11/15/2015 18:09'!initComparisonData	| dataSet a1 a2 a3 a11 a12 a21 a22 a31 a32|	dataSet := OrderedCollection new.	a1 := OrderedCollection new.	a11 := OrderedCollection new.	a12 := OrderedCollection new.	a1 add: 'positive'.	a1 add: 0.	a1 add: 0.	a1 add: a11.	a1 add: a12.	dataSet add: a1 asArray.		a2 := OrderedCollection new.	a21 := OrderedCollection new.	a22 := OrderedCollection new.	a2 add: 'negative'.	a2 add: 0.	a2 add: 0.	a2 add: a21.	a2 add: a22.	dataSet add: a2 asArray .		a3 := OrderedCollection new.	a31 := OrderedCollection new.	a32 := OrderedCollection new.	a3 add: 'neutral'.	a3 add: 0.	a3 add: 0.	a3 add: a31.	a3 add: a32.	dataSet add: a3 asArray .	^ dataSet asArray! !!Analysis methodsFor: 'as yet unclassified' stamp: 'MeenalKulkarni 11/15/2015 18:38'!classify	| tweets tp dataSet  row count b ds sentiment tweet_text |	tweets := OrderedCollection new.	tp := TweetsParsor new.	tweets := tp parseToJSON.		dataSet := self initSentimentData .		tweet_text := OrderedCollection new.		tweets do: [ :tweet |		tweet sentiment = -1 ifFalse: [			sentiment := tweet sentiment.				row := (dataSet select: [ :i |				(i at: 1) = sentiment			]) at: 1.			count := row at: 2.			row at: 2 put: (count + 1).			tweet_text := row at: 3.			tweet_text add: tweet text.			row at: 3 put: tweet_text .		].	].		b := RTGrapher new.	ds := RTStackedDataSet new.	ds points: dataSet.	ds y: #second.	ds barShape width: 40.	ds histogramWithBarTitle: #first rotation: -45.	b add: ds.	b axisX noLabel; noTick.	b build.	^ b view! !!Analysis methodsFor: 'as yet unclassified' stamp: 'MeenalKulkarni 11/15/2015 20:30'!compareBrands	| tweets_brand1 tp1 b dataSet name_of_brand1 tweets_brand2 tp2 name_of_brand2 title1 title2 sentiment row count brand1_text brand2_text|	tweets_brand1 := OrderedCollection new.	tp1 := TweetsParsor new.	tweets_brand1 := tp1 parseToJSON: 'analyzed_tweets_#DonaldTrump.json'.	name_of_brand1 := 'Donald Trump'.		tweets_brand2 := OrderedCollection new.	tp2 := TweetsParsor new.	tweets_brand2 := tp2 parseToJSON: 'analyzed_tweets_#HillaryClinton.json'.	name_of_brand2 := 'Hillary Clinton'.		dataSet := self initComparisonData.		brand1_text := OrderedCollection new.	brand2_text := OrderedCollection new.		tweets_brand1 do: [ :tweet |		tweet sentiment = -1 ifFalse: [			sentiment := tweet sentiment.			row := (dataSet select: [ :i |				(i at: 1) = sentiment			]) at: 1.			count := row at: 2.			row at: 2 put: (count + 1).			brand1_text := row at: 4.			brand1_text add: tweet text.			row at: 4 put: brand1_text. 					].	].	tweets_brand2 do: [ :tweet |		tweet sentiment = -1 ifFalse: [			sentiment := tweet sentiment.			row := (dataSet select: [ :i |				(i at: 1) = sentiment			]) at: 1.			count := row at: 3.			row at: 3 put: (count + 1).			brand2_text := row at: 5.			brand2_text add: tweet text.			row at: 5 put: brand2_text. 		].	].		b := RTDoubleBarBuilder new.	b pointName: [ :row1 | row1 at: 1 ].	b points: dataSet.	title1 := 'GREY: ', name_of_brand1, ' (x 10)'.	title2 := 'RED: ', name_of_brand2, ' (x 10)'.	b bottomValue: [ : row2 | ((row2 at: 2) / 10) asInteger ]titled: title1.	b topValue: [ :row3 | ((row3 at: 3) / 10) asInteger] titled: title2.	b build.	^ b view.! !