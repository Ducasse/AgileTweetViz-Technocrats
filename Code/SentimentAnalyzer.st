Object subclass: #Analysis	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'SentimentAnalyzer'!!Analysis methodsFor: 'as yet unclassified' stamp: 'TanmayPatil 11/13/2015 16:51'!classify	| tweets tp dataSet  row count b ds sentiment |	tweets := OrderedCollection new.	tp := TweetsParsor new.	tweets := tp parseToJSON.		dataSet := self initSentimentData .		tweets do: [ :tweet |		tweet sentiment = -1 ifFalse: [			sentiment := tweet sentiment.				row := (dataSet select: [ :i |				(i at: 1) = sentiment			]) at: 1.			count := row at: 2.			row removeAt: 2.			row add: (count + 1).		].	].		b := RTGrapher new.	ds := RTStackedDataSet new.	ds points: dataSet.	ds y: #second.	ds barShape width: 40.	ds histogramWithBarTitle: #first rotation: -45.	b add: ds.	b axisX noLabel; noTick.	b build.	^ b view! !!Analysis methodsFor: 'as yet unclassified' stamp: 'TanmayPatil 11/13/2015 16:42'!initSentimentData	| dataSet d1 d2 d3     |	dataSet := OrderedCollection new.	d1 := OrderedCollection new.	d1 add: 'positive'.	d1 add: 0.	dataSet add: d1.	d2 := OrderedCollection new.	d2 add: 'negative'.	d2 add: 0.	dataSet add: d2.	d3 := OrderedCollection new.	d3 add: 'neutral'.	d3 add: 0.	dataSet add: d3.	^ dataSet! !!Analysis methodsFor: 'as yet unclassified' stamp: 'TanmayPatil 11/14/2015 18:30'!compareBrands	| tweets_brand1 tp1 b dataSet name_of_brand1 tweets_brand2 tp2 name_of_brand2 title1 title2 sentiment row count |	tweets_brand1 := OrderedCollection new.	tp1 := TweetsParsor new.	tweets_brand1 := tp1 parseToJSON: 'analyzed_tweets_#DonaldTrump.json'.	name_of_brand1 := 'Donald Trump'.		tweets_brand2 := OrderedCollection new.	tp2 := TweetsParsor new.	tweets_brand2 := tp2 parseToJSON: 'analyzed_tweets_#HillaryClinton.json'.	name_of_brand2 := 'Hillary Clinton'.		dataSet := self initComparisonData.		tweets_brand1 do: [ :tweet |		tweet sentiment = -1 ifFalse: [			sentiment := tweet sentiment.			row := (dataSet select: [ :i |				(i at: 1) = sentiment			]) at: 1.			count := row at: 2.			row at: 2 put: (count + 1).		].	].	tweets_brand2 do: [ :tweet |		tweet sentiment = -1 ifFalse: [			sentiment := tweet sentiment.			row := (dataSet select: [ :i |				(i at: 1) = sentiment			]) at: 1.			count := row at: 3.			row at: 3 put: (count + 1).		].	].		b := RTDoubleBarBuilder new.	b pointName: [ :row1 | row1 at: 1 ].	b points: dataSet.	title1 := 'GREY: ', name_of_brand1, ' (x 10)'.	title2 := 'RED: ', name_of_brand2, ' (x 10)'.	b bottomValue: [ : row2 | ((row2 at: 2) / 10) asInteger ]titled: title1.	b topValue: [ :row3 | ((row3 at: 3) / 10) asInteger] titled: title2.	b build.	^ b view.! !!Analysis methodsFor: 'as yet unclassified' stamp: 'TanmayPatil 11/13/2015 16:42'!initialize	super initialize! !!Analysis methodsFor: 'as yet unclassified' stamp: 'TanmayPatil 11/14/2015 17:54'!initComparisonData	| dataSet a1 a2 |	dataSet := OrderedCollection new.	a1 := OrderedCollection new.	a1 add: 'positive'.	a1 add: 0.	a1 add: 0.	dataSet add: a1 asArray.		a2 := OrderedCollection new.	a2 add: 'negative'.	a2 add: 0.	a2 add: 0.	dataSet add: a2 asArray .		a2 := OrderedCollection new.	a2 add: 'neutral'.	a2 add: 0.	a2 add: 0.	dataSet add: a2 asArray .	^ dataSet asArray! !